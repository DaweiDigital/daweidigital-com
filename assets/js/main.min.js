function fullHeightbanner(){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);$(".js-full-screen-preview").css("height",e),$(window).resize(function(){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);$(".js-full-screen-preview").css("height",e)})}$(function(){function o(e){"success"==e.result?($("#success_message").show(),$("#error_message").hide()):($("#error_message").append("<ul></ul>"),jQuery.each(e.errors,function(e,o){$("#error_message ul").append("<li>"+e+":"+o+"</li>")}),$("#success_message").hide(),$("#error_message").show(),$('button[type="button"]',$form).each(function(){$btn=$(this),label=$btn.prop("orig_label"),label&&($btn.prop("type","submit"),$btn.text(label),$btn.prop("orig_label",""))}))}$("#contact_form").submit(function(e){e.preventDefault(),$form=$(this),$('button[type="submit"]',$form).each(function(){$btn=$(this),$btn.prop("type","button"),$btn.prop("orig_label",$btn.text())}),$.ajax({type:"POST",url:"handler.php",data:$form.serialize(),success:o,dataType:"json"})})}),function(i){i.fn.cookieBar=function(o){var t=i.extend({closeButton:"none",secure:!1,path:"/",domain:""},o);return this.each(function(){var e=i(this);e.hide(),"none"==t.closeButton&&(e.append('<a class="cookiebar-close">Continue</a>'),t=i.extend({closeButton:".cookiebar-close"},o)),"hide"!=i.cookie("cookiebar")&&e.show(),e.find(t.closeButton).click(function(){return e.hide(),i.cookie("cookiebar","hide",{path:t.path,secure:t.secure,domain:t.domain,expires:30}),!1})})},i.cookieBar=function(e){i("body").prepend('<div class="ui-widget"><div style="display: none;" class="cookie-message ui-widget-header blue"><p>By using this website you allow us to place cookies on your computer. They are harmless and never personally identify you.</p></div></div>'),i(".cookie-message").cookieBar(e)}}(jQuery),function(c){c.cookie=function(e,o,t){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(o))||null==o)){if(t=c.extend({},t),null==o&&(t.expires=-1),"number"==typeof t.expires){var i=t.expires,r=t.expires=new Date;r.setDate(r.getDate()+i)}return o=String(o),document.cookie=[encodeURIComponent(e),"=",t.raw?o:encodeURIComponent(o),t.expires?"; expires="+t.expires.toUTCString():"",t.path?"; path="+t.path:"",t.domain?"; domain="+t.domain:"",t.secure?"; secure":""].join("")}for(var n,s=(t=o||{}).raw?function(e){return e}:decodeURIComponent,l=document.cookie.split("; "),a=0;n=l[a]&&l[a].split("=");a++)if(s(n[0])===e)return s(n[1]||"");return null}}(jQuery),function(m){var e,f=!1,g=!1,w=5e3,c=2e3,v=0,y=0<(e=(e=document.getElementsByTagName("script"))[e.length-1].src.split("?")[0]).split("/").length?e.split("/").slice(0,-1).join("/")+"/":"";Array.prototype.forEach||(Array.prototype.forEach=function(e,o){for(var t=0,i=this.length;t<i;++t)e.call(o,this[t],t,this)});var d=window.requestAnimationFrame||!1,h=window.cancelAnimationFrame||!1;["ms","moz","webkit","o"].forEach(function(e){d=d||window[e+"RequestAnimationFrame"],h=h||(window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"])});function r(e,o){function n(e,o,t){return o=e.css(o),e=parseFloat(o),isNaN(e)?(t=3==(e=l[o]||0)?t?u.win.outerHeight()-u.win.innerHeight():u.win.outerWidth()-u.win.innerWidth():1,u.isie8&&e&&(e+=1),t?e:0):e}function s(t,i,r,e){u._bind(t,i,function(e){var o={original:e=e||window.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==i?(o.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(o.deltaX=-.025*e.wheelDeltaX)):o.deltaY=e.detail,r.call(t,o)},e)}function i(e,o,t){var i,r;if(0==e.deltaMode?(i=-Math.floor(e.deltaX*(u.opt.mousescrollstep/54)),r=-Math.floor(e.deltaY*(u.opt.mousescrollstep/54))):1==e.deltaMode&&(i=-Math.floor(e.deltaX*u.opt.mousescrollstep),r=-Math.floor(e.deltaY*u.opt.mousescrollstep)),o&&0==i&&r&&(i=r,r=0),i&&(u.scrollmom&&u.scrollmom.stop(),u.lastdeltax+=i,u.debounced("mousewheelx",function(){var e=u.lastdeltax;u.lastdeltax=0,u.rail.drag||u.doScrollLeftBy(e)},120)),r){if(u.opt.nativeparentscrolling&&t&&!u.ispage&&!u.zoomactive)if(r<0){if(u.getScrollTop()>=u.page.maxh)return!0}else if(u.getScrollTop()<=0)return!0;u.scrollmom&&u.scrollmom.stop(),u.lastdeltay+=r,u.debounced("mousewheely",function(){var e=u.lastdeltay;u.lastdeltay=0,u.rail.drag||u.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var u=this;if(this.version="3.4.0",this.name="nicescroll",this.me=o,this.opt={doc:m("body"),win:!1},m.extend(this.opt,x),this.opt.snapbackspeed=80,e)for(var t in u.opt)void 0!==e[t]&&(u.opt[t]=e[t]);for(this.iddoc=(this.doc=u.opt.doc)&&this.doc[0]&&this.doc[0].id||"",this.ispage=/BODY|HTML/.test(u.opt.win?u.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==u.opt.win,this.win=u.opt.win||(this.ispage?m(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?m(window):this.win,this.body=m("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=u.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;this.id="ascrail"+c++,document.getElementById(this.id););this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=u.opt.overflowx,this.overflowy=u.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=function(){if(S)return S;var e=document.createElement("DIV"),o={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};o.isopera="opera"in window,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isie="all"in document&&"attachEvent"in e&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in e.style),o.isie7=o.isie&&!o.isieold&&(!("documentMode"in document)||7==document.documentMode),o.isie8=o.isie&&"documentMode"in document&&8==document.documentMode,o.isie9=o.isie&&"performance"in window&&9<=document.documentMode,o.isie10=o.isie&&"performance"in window&&10<=document.documentMode,o.isie9mobile=/iemobile.9/i.test(navigator.userAgent),o.isie9mobile&&(o.isie9=!1),o.isie7mobile=!o.isie9mobile&&o.isie7&&/iemobile/i.test(navigator.userAgent),o.ismozilla="MozAppearance"in e.style,o.iswebkit="WebkitAppearance"in e.style,o.ischrome="chrome"in window,o.ischrome22=o.ischrome&&o.haspointerlock,o.ischrome26=o.ischrome&&"transition"in e.style,o.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,o.hasmstouch=window.navigator.msPointerEnabled||!1,o.ismac=/^mac$/i.test(navigator.platform),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),o.isios4=o.isios&&!("seal"in Object),o.isandroid=/android/i.test(navigator.userAgent),o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1;for(var t=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]]){o.trstyle=t[i];break}o.hastransform=0!=o.trstyle,o.hastransform&&(e.style[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(e.style[o.trstyle])),o.transitionstyle=!1,o.prefixstyle="",o.transitionend=!1;t="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" ");var r=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),n="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" ");for(i=0;i<t.length;i++)if(t[i]in e.style){o.transitionstyle=t[i],o.prefixstyle=r[i],o.transitionend=n[i];break}o.ischrome26&&(o.prefixstyle=r[1]),o.hastransition=o.transitionstyle;e:{for(t=["-moz-grab","-webkit-grab","grab"],(o.ischrome&&!o.ischrome22||o.isie)&&(t=[]),i=0;i<t.length;i++)if(r=t[i],e.style.cursor=r,e.style.cursor==r){t=r;break e}t="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return o.cursorgrabvalue=t,o.hasmousecapture="setCapture"in e,o.hasMutationObserver=!1!==b,S=o}();var p=m.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=p.hastransform&&u.opt.hwacceleration)&&u.haswrapper,this.istouchcapable=!1,p.cantouch&&p.ischrome&&!p.isios&&!p.isandroid&&(this.istouchcapable=!0,p.cantouch=!1),p.cantouch&&p.ismozilla&&!p.isios&&(this.istouchcapable=!0,p.cantouch=!1),u.opt.enablemouselockapi||(p.hasmousecapture=!1,p.haspointerlock=!1),this.delayed=function(e,o,t,i){var r=u.delaylist[e],n=(new Date).getTime();if(!i&&r&&r.tt)return!1;r&&r.tt&&clearTimeout(r.tt),r&&r.last+t>n&&!r.tt?u.delaylist[e]={last:n+t,tt:setTimeout(function(){u.delaylist[e].tt=0,o.call()},t)}:r&&r.tt||(u.delaylist[e]={last:n,tt:0},setTimeout(function(){o.call()},0))},this.debounced=function(o,e,t){var i=u.delaylist[o];(new Date).getTime(),u.delaylist[o]=e,i||setTimeout(function(){var e=u.delaylist[o];u.delaylist[o]=!1,e.call()},t)},this.synched=function(o,e){return u.synclist[o]=e,u.onsync||(d(function(){for(o in u.onsync=!1,u.synclist){var e=u.synclist[o];e&&e.call(u),u.synclist[o]=!1}}),u.onsync=!0),o},this.unsynched=function(e){u.synclist[e]&&(u.synclist[e]=!1)},this.css=function(e,o){for(var t in o)u.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?u.getScrollTop():u.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?u.getScrollLeft():u.setScrollLeft(e)},BezierClass=function(e,o,t,i,r,n,s){this.st=e,this.ed=o,this.spd=t,this.p1=i||0,this.p2=r||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return e<0?this.ed:this.st+Math.round(this.df*o)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},p.hastranslate3d&&p.isios&&this.doc.css("-webkit-backface-visibility","hidden");function r(){var e=u.doc.css(p.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}this.getScrollTop=function(e){if(!e){if(e=r())return 16==e.length?-e[13]:-e[5];if(u.timerscroll&&u.timerscroll.bz)return u.timerscroll.bz.getNow()}return u.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=r())return 16==e.length?-e[12]:-e[4];if(u.timerscroll&&u.timerscroll.bh)return u.timerscroll.bh.getNow()}return u.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var o=document.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(o)}:document.fireEvent?function(e){var o=document.createEventObject();e.fireEvent("onscroll"),o.cancelBubble=!0}:function(e,o){},p.hastranslate3d&&u.opt.enabletranslate3d?(this.setScrollTop=function(e,o){u.doc.translate.y=e,u.doc.translate.ty=-1*e+"px",u.doc.css(p.trstyle,"translate3d("+u.doc.translate.tx+","+u.doc.translate.ty+",0px)"),o||u.notifyScrollEvent(u.win[0])},this.setScrollLeft=function(e,o){u.doc.translate.x=e,u.doc.translate.tx=-1*e+"px",u.doc.css(p.trstyle,"translate3d("+u.doc.translate.tx+","+u.doc.translate.ty+",0px)"),o||u.notifyScrollEvent(u.win[0])}):(this.setScrollTop=function(e,o){u.doc.translate.y=e,u.doc.translate.ty=-1*e+"px",u.doc.css(p.trstyle,"translate("+u.doc.translate.tx+","+u.doc.translate.ty+")"),o||u.notifyScrollEvent(u.win[0])},this.setScrollLeft=function(e,o){u.doc.translate.x=e,u.doc.translate.tx=-1*e+"px",u.doc.css(p.trstyle,"translate("+u.doc.translate.tx+","+u.doc.translate.ty+")"),o||u.notifyScrollEvent(u.win[0])})}else this.getScrollTop=function(){return u.docscroll.scrollTop()},this.setScrollTop=function(e){return u.docscroll.scrollTop(e)},this.getScrollLeft=function(){return u.docscroll.scrollLeft()},this.setScrollLeft=function(e){return u.docscroll.scrollLeft(e)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t};var l={thin:1,medium:3,thick:5};this.getOffset=function(){if(u.isfixed)return{top:parseFloat(u.win.css("top")),left:parseFloat(u.win.css("left"))};if(!u.viewport)return u.win.offset();var e=u.win.offset(),o=u.viewport.offset();return{top:e.top-o.top+u.viewport.scrollTop(),left:e.left-o.left+u.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(u.ishwscroll)u.rail.css({height:u.win.innerHeight()}),u.railh&&u.railh.css({width:u.win.innerWidth()});else{var o=u.getOffset(),t=o.top,i=o.left;t=t+n(u.win,"border-top-width",!0);u.win.outerWidth(),u.win.innerWidth();i=i+(u.rail.align?u.win.outerWidth()-n(u.win,"border-right-width")-u.rail.width:n(u.win,"border-left-width"));var r=u.opt.railoffset;r&&(r.top&&(t+=r.top),u.rail.align&&r.left&&(i+=r.left)),u.locked||u.rail.css({top:t,left:i,height:e?e.h:u.win.innerHeight()}),u.zoom&&u.zoom.css({top:t+1,left:1==u.rail.align?i-20:i+u.rail.width+4}),u.railh&&!u.locked&&(t=o.top,i=o.left,e=u.railh.align?t+n(u.win,"border-top-width",!0)+u.win.innerHeight()-u.railh.height:t+n(u.win,"border-top-width",!0),i+=n(u.win,"border-left-width"),u.railh.css({top:e,left:i,width:u.railh.width}))}},this.doRailClick=function(e,o,t){var i;u.locked||(u.cancelEvent(e),o?(o=t?u.doScrollLeft:u.doScrollTop)(i=t?(e.pageX-u.railh.offset().left-u.cursorwidth/2)*u.scrollratio.x:(e.pageY-u.rail.offset().top-u.cursorheight/2)*u.scrollratio.y):(o=t?u.doScrollLeftBy:u.doScrollBy,i=t?u.scroll.x:u.scroll.y,e=t?e.pageX-u.railh.offset().left:e.pageY-u.rail.offset().top,t=t?u.view.w:u.view.h,o(e<=i?t:-t)))},u.hasanimationframe=d,u.hascancelanimationframe=h,u.hasanimationframe?u.hascancelanimationframe||(h=function(){u.cancelAnimationFrame=!0}):(d=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},h=clearInterval),this.init=function(){if(u.saved.css=[],p.isie7mobile)return!0;if(p.hasmstouch&&u.css(u.ispage?m("html"):u.win,{"-ms-touch-action":"none"}),u.zindex="auto",u.zindex=u.ispage||"auto"!=u.opt.zindex?u.opt.zindex:function(){var e=u.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var o=e.css("zIndex");if(!isNaN(o)&&0!=o)return parseInt(o);e=e.parent()}return!1}()||"auto",!u.ispage&&"auto"!=u.zindex&&u.zindex>v&&(v=u.zindex),u.isie&&0==u.zindex&&"auto"==u.opt.zindex&&(u.zindex="auto"),!u.ispage||!p.cantouch&&!p.isieold&&!p.isie9mobile){var e=u.docscroll;u.ispage&&(e=u.haswrapper?u.win:u.doc),p.isie9mobile||u.css(e,{"overflow-y":"hidden"}),u.ispage&&p.isie7&&("BODY"==u.doc[0].nodeName?u.css(m("html"),{"overflow-y":"hidden"}):"HTML"==u.doc[0].nodeName&&u.css(m("body"),{"overflow-y":"hidden"})),!p.isios||u.ispage||u.haswrapper||u.css(m("body"),{"-webkit-overflow-scrolling":"touch"});var o=m(document.createElement("div"));o.css({position:"relative",top:0,float:"right",width:u.opt.cursorwidth,height:"0px","background-color":u.opt.cursorcolor,border:u.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":u.opt.cursorborderradius,"-moz-border-radius":u.opt.cursorborderradius,"border-radius":u.opt.cursorborderradius}),o.hborder=parseFloat(o.outerHeight()-o.innerHeight()),u.cursor=o,(c=m(document.createElement("div"))).attr("id",u.id),c.addClass("nicescroll-rails");var t,i,r,n=["left","right"];for(r in n)i=n[r],(t=u.opt.railpadding[i])?c.css("padding-"+i,t+"px"):u.opt.railpadding[i]=0;if(c.append(o),c.width=Math.max(parseFloat(u.opt.cursorwidth),o.outerWidth())+u.opt.railpadding.left+u.opt.railpadding.right,c.css({width:c.width+"px",zIndex:u.zindex,background:u.opt.background,cursor:"default"}),c.visibility=!0,c.scrollable=!0,c.align="left"==u.opt.railalign?0:1,u.rail=c,o=u.rail.drag=!1,!u.opt.boxzoom||u.ispage||p.isieold||(o=document.createElement("div"),u.bind(o,"click",u.doZoom),u.zoom=m(o),u.zoom.css({cursor:"pointer","z-index":u.zindex,backgroundImage:"url("+y+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),u.opt.dblclickzoom&&u.bind(u.win,"dblclick",u.doZoom),p.cantouch&&u.opt.gesturezoom&&(u.ongesturezoom=function(e){return 1.5<e.scale&&u.doZoomIn(e),e.scale<.8&&u.doZoomOut(e),u.cancelEvent(e)},u.bind(u.win,"gestureend",u.ongesturezoom))),u.railh=!1,u.opt.horizrailenabled){u.css(e,{"overflow-x":"hidden"}),(o=m(document.createElement("div"))).css({position:"relative",top:0,height:u.opt.cursorwidth,width:"0px","background-color":u.opt.cursorcolor,border:u.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":u.opt.cursorborderradius,"-moz-border-radius":u.opt.cursorborderradius,"border-radius":u.opt.cursorborderradius}),o.wborder=parseFloat(o.outerWidth()-o.innerWidth()),u.cursorh=o;var s=m(document.createElement("div"));s.attr("id",u.id+"-hr"),s.addClass("nicescroll-rails"),s.height=Math.max(parseFloat(u.opt.cursorwidth),o.outerHeight()),s.css({height:s.height+"px",zIndex:u.zindex,background:u.opt.background}),s.append(o),s.visibility=!0,s.scrollable=!0,s.align="top"==u.opt.railvalign?0:1,u.railh=s,u.railh.drag=!1}if(u.ispage?(c.css({position:"fixed",top:"0px",height:"100%"}),c.align?c.css({right:"0px"}):c.css({left:"0px"}),u.body.append(c),u.railh&&(s.css({position:"fixed",left:"0px",width:"100%"}),s.align?s.css({bottom:"0px"}):s.css({top:"0px"}),u.body.append(s))):(u.ishwscroll?("static"==u.win.css("position")&&u.css(u.win,{position:"relative"}),e="HTML"==u.win[0].nodeName?u.body:u.win,u.zoom&&(u.zoom.css({position:"absolute",top:1,right:0,"margin-right":c.width+4}),e.append(u.zoom)),c.css({position:"absolute",top:0}),c.align?c.css({right:0}):c.css({left:0}),e.append(c),s&&(s.css({position:"absolute",left:0,bottom:0}),s.align?s.css({bottom:0}):s.css({top:0}),e.append(s))):(u.isfixed="fixed"==u.win.css("position"),e=u.isfixed?"fixed":"absolute",u.isfixed||(u.viewport=u.getViewport(u.win[0])),u.viewport&&(u.body=u.viewport,0==/relative|absolute/.test(u.viewport.css("position"))&&u.css(u.viewport,{position:"relative"})),c.css({position:e}),u.zoom&&u.zoom.css({position:e}),u.updateScrollBar(),u.body.append(c),u.zoom&&u.body.append(u.zoom),u.railh&&(s.css({position:e}),u.body.append(s))),p.isios&&u.css(u.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),p.isie&&u.opt.disableoutline&&u.win.attr("hideFocus","true"),p.iswebkit&&u.opt.disableoutline&&u.win.css({outline:"none"})),!1===u.opt.autohidemode?(u.autohidedom=!1,u.rail.css({opacity:u.opt.cursoropacitymax}),u.railh&&u.railh.css({opacity:u.opt.cursoropacitymax})):!0===u.opt.autohidemode?(u.autohidedom=m().add(u.rail),p.isie8&&(u.autohidedom=u.autohidedom.add(u.cursor)),u.railh&&(u.autohidedom=u.autohidedom.add(u.railh)),u.railh&&p.isie8&&(u.autohidedom=u.autohidedom.add(u.cursorh))):"scroll"==u.opt.autohidemode?(u.autohidedom=m().add(u.rail),u.railh&&(u.autohidedom=u.autohidedom.add(u.railh))):"cursor"==u.opt.autohidemode?(u.autohidedom=m().add(u.cursor),u.railh&&(u.autohidedom=u.autohidedom.add(u.cursorh))):"hidden"==u.opt.autohidemode&&(u.autohidedom=!1,u.hide(),u.locked=!1),p.isie9mobile)u.scrollmom=new k(u),u.onmangotouch=function(e){e=u.getScrollTop();var o=u.getScrollLeft();if(e==u.scrollmom.lastscrolly&&o==u.scrollmom.lastscrollx)return!0;var t=e-u.mangotouch.sy,i=o-u.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(t,2)))){var r=t<0?-1:1,n=i<0?-1:1,s=+new Date;u.mangotouch.lazy&&clearTimeout(u.mangotouch.lazy),80<s-u.mangotouch.tm||u.mangotouch.dry!=r||u.mangotouch.drx!=n?(u.scrollmom.stop(),u.scrollmom.reset(o,e),u.mangotouch.sy=e,u.mangotouch.ly=e,u.mangotouch.sx=o,u.mangotouch.lx=o,u.mangotouch.dry=r,u.mangotouch.drx=n,u.mangotouch.tm=s):(u.scrollmom.stop(),u.scrollmom.update(u.mangotouch.sx-i,u.mangotouch.sy-t),u.mangotouch.tm=s,t=Math.max(Math.abs(u.mangotouch.ly-e),Math.abs(u.mangotouch.lx-o)),u.mangotouch.ly=e,u.mangotouch.lx=o,2<t&&(u.mangotouch.lazy=setTimeout(function(){u.mangotouch.lazy=!1,u.mangotouch.dry=0,u.mangotouch.drx=0,u.mangotouch.tm=0,u.scrollmom.doMomentum(30)},100)))}},c=u.getScrollTop(),s=u.getScrollLeft(),u.mangotouch={sy:c,ly:c,dry:0,sx:s,lx:s,drx:0,lazy:!1,tm:0},u.bind(u.docscroll,"scroll",u.onmangotouch);else{if(p.cantouch||u.istouchcapable||u.opt.touchbehavior||p.hasmstouch){u.scrollmom=new k(u),u.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(!u.locked){if(p.hasmstouch)for(var o=!!e.target&&e.target;o;){if(0<(t=m(o).getNiceScroll()).length&&t[0].me==u.me)break;if(0<t.length)return!1;if("DIV"==o.nodeName&&o.id==u.id)break;o=!!o.parentNode&&o.parentNode}if(u.cancelScroll(),(o=u.getTarget(e))&&/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return u.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),u.forcescreen&&((e={original:(t=e).original?e.original:e}).clientX=t.screenX,e.clientY=t.screenY),u.rail.drag={x:e.clientX,y:e.clientY,sx:u.scroll.x,sy:u.scroll.y,st:u.getScrollTop(),sl:u.getScrollLeft(),pt:2,dl:!1},u.ispage||!u.opt.directionlockdeadzone)u.rail.drag.dl="f";else{var t=m(window).width(),i=m(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);i=Math.max(0,n-i),t=Math.max(0,r-t);u.rail.drag.ck=!u.rail.scrollable&&u.railh.scrollable?0<i&&"v":!(!u.rail.scrollable||u.railh.scrollable)&&(0<t&&"h"),u.rail.drag.ck||(u.rail.drag.dl="f")}if(u.opt.touchbehavior&&u.isiframe&&p.isie&&(t=u.win.position(),u.rail.drag.x+=t.left,u.rail.drag.y+=t.top),u.hasmoving=!1,u.lastmouseup=!1,u.scrollmom.reset(e.clientX,e.clientY),!p.cantouch&&!this.istouchcapable&&!p.hasmstouch){if(!o||!/INPUT|SELECT|TEXTAREA/i.test(o.nodeName))return!u.ispage&&p.hasmousecapture&&o.setCapture(),u.cancelEvent(e);/SUBMIT|CANCEL|BUTTON/i.test(m(o).attr("type"))&&(pc={tg:o,click:!1},u.preventclick=pc)}}},u.ontouchend=function(e){return(!e.pointerType||2==e.pointerType)&&(u.rail.drag&&2==u.rail.drag.pt&&(u.scrollmom.doMomentum(),u.rail.drag=!1,u.hasmoving&&(u.hasmoving=!1,u.lastmouseup=!0,u.hideCursor(),p.hasmousecapture&&document.releaseCapture(),!p.cantouch))?u.cancelEvent(e):void 0)};var d=u.opt.touchbehavior&&u.isiframe&&!p.hasmousecapture;u.ontouchmove=function(e,o){if(e.pointerType&&2!=e.pointerType)return!1;if(u.rail.drag&&2==u.rail.drag.pt){if(p.cantouch&&void 0===e.original)return!0;if(u.hasmoving=!0,u.preventclick&&!u.preventclick.click&&(u.preventclick.click=u.preventclick.tg.onclick||!1,u.preventclick.tg.onclick=u.onpreventclick),"changedTouches"in(e=m.extend({original:e},e))&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),u.forcescreen){var t=e;(e={original:e.original?e.original:e}).clientX=t.screenX,e.clientY=t.screenY}if(t=ofy=0,d&&!o){t=-(r=u.win.position()).left;ofy=-r.top}var i=e.clientY+ofy,r=i-u.rail.drag.y,n=e.clientX+t,s=n-u.rail.drag.x,l=u.rail.drag.st-r;if(u.ishwscroll&&u.opt.bouncescroll?l<0?l=Math.round(l/2):l>u.page.maxh&&(l=u.page.maxh+Math.round((l-u.page.maxh)/2)):(l<0&&(i=l=0),l>u.page.maxh&&(l=u.page.maxh,i=0)),u.railh&&u.railh.scrollable){var a=u.rail.drag.sl-s;u.ishwscroll&&u.opt.bouncescroll?a<0?a=Math.round(a/2):a>u.page.maxw&&(a=u.page.maxw+Math.round((a-u.page.maxw)/2)):(a<0&&(n=a=0),a>u.page.maxw&&(a=u.page.maxw,n=0))}if(t=!1,u.rail.drag.dl)t=!0,"v"==u.rail.drag.dl?a=u.rail.drag.sl:"h"==u.rail.drag.dl&&(l=u.rail.drag.st);else{r=Math.abs(r),s=Math.abs(s);var c=u.opt.directionlockdeadzone;if("v"==u.rail.drag.ck){if(c<r&&s<=.3*r)return!(u.rail.drag=!1);c<s&&(u.rail.drag.dl="f",m("body").scrollTop(m("body").scrollTop()))}else if("h"==u.rail.drag.ck){if(c<s&&r<=.3*az)return!(u.rail.drag=!1);c<r&&(u.rail.drag.dl="f",m("body").scrollLeft(m("body").scrollLeft()))}}if(u.synched("touchmove",function(){u.rail.drag&&2==u.rail.drag.pt&&(u.prepareTransition&&u.prepareTransition(0),u.rail.scrollable&&u.setScrollTop(l),u.scrollmom.update(n,i),u.railh&&u.railh.scrollable?(u.setScrollLeft(a),u.showCursor(l,a)):u.showCursor(l),p.isie10&&document.selection.clear())}),p.ischrome&&u.istouchcapable&&(t=!1),t)return u.cancelEvent(e)}}}if(u.onmousedown=function(e,o){if(!u.rail.drag||1==u.rail.drag.pt){if(u.locked)return u.cancelEvent(e);u.cancelScroll(),u.rail.drag={x:e.clientX,y:e.clientY,sx:u.scroll.x,sy:u.scroll.y,pt:1,hr:!!o};var t=u.getTarget(e);return!u.ispage&&p.hasmousecapture&&t.setCapture(),u.isiframe&&!p.hasmousecapture&&(u.saved.csspointerevents=u.doc.css("pointer-events"),u.css(u.doc,{"pointer-events":"none"})),u.cancelEvent(e)}},u.onmouseup=function(e){if(u.rail.drag&&(p.hasmousecapture&&document.releaseCapture(),u.isiframe&&!p.hasmousecapture&&u.doc.css("pointer-events",u.saved.csspointerevents),1==u.rail.drag.pt))return u.rail.drag=!1,u.cancelEvent(e)},u.onmousemove=function(e){if(u.rail.drag&&1==u.rail.drag.pt){if(p.ischrome&&0==e.which)return u.onmouseup(e);if(u.cursorfreezed=!0,u.rail.drag.hr){u.scroll.x=u.rail.drag.sx+(e.clientX-u.rail.drag.x),u.scroll.x<0&&(u.scroll.x=0);var o=u.scrollvaluemaxw;u.scroll.x>o&&(u.scroll.x=o)}else u.scroll.y=u.rail.drag.sy+(e.clientY-u.rail.drag.y),u.scroll.y<0&&(u.scroll.y=0),o=u.scrollvaluemax,u.scroll.y>o&&(u.scroll.y=o);return u.synched("mousemove",function(){u.rail.drag&&1==u.rail.drag.pt&&(u.showCursor(),u.rail.drag.hr?u.doScrollLeft(Math.round(u.scroll.x*u.scrollratio.x),u.opt.cursordragspeed):u.doScrollTop(Math.round(u.scroll.y*u.scrollratio.y),u.opt.cursordragspeed))}),u.cancelEvent(e)}},p.cantouch||u.opt.touchbehavior)u.onpreventclick=function(e){if(u.preventclick)return u.preventclick.tg.onclick=u.preventclick.click,u.preventclick=!1,u.cancelEvent(e)},u.bind(u.win,"mousedown",u.ontouchstart),u.onclick=!p.isios&&function(e){return!u.lastmouseup||(u.lastmouseup=!1,u.cancelEvent(e))},u.opt.grabcursorenabled&&p.cursorgrabvalue&&(u.css(u.ispage?u.doc:u.win,{cursor:p.cursorgrabvalue}),u.css(u.rail,{cursor:p.cursorgrabvalue}));else{var l=function(e){if(u.selectiondrag){if(e){var o=u.win.outerHeight();0<(e=e.pageY-u.selectiondrag.top)&&e<o&&(e=0),o<=e&&(e-=o),u.selectiondrag.df=e}0!=u.selectiondrag.df&&(u.doScrollBy(2*-Math.floor(u.selectiondrag.df/6)),u.debounced("doselectionscroll",function(){l()},50))}};u.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},u.onselectionstart=function(e){u.ispage||(u.selectiondrag=u.win.offset())},u.onselectionend=function(e){u.selectiondrag=!1},u.onselectiondrag=function(e){u.selectiondrag&&u.hasTextSelected()&&u.debounced("selectionscroll",function(){l(e)},250)}}p.hasmstouch&&(u.css(u.rail,{"-ms-touch-action":"none"}),u.css(u.cursor,{"-ms-touch-action":"none"}),u.bind(u.win,"MSPointerDown",u.ontouchstart),u.bind(document,"MSPointerUp",u.ontouchend),u.bind(document,"MSPointerMove",u.ontouchmove),u.bind(u.cursor,"MSGestureHold",function(e){e.preventDefault()}),u.bind(u.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(u.bind(u.win,"touchstart",u.ontouchstart),u.bind(document,"touchend",u.ontouchend),u.bind(document,"touchcancel",u.ontouchend),u.bind(document,"touchmove",u.ontouchmove)),u.bind(u.cursor,"mousedown",u.onmousedown),u.bind(u.cursor,"mouseup",u.onmouseup),u.railh&&(u.bind(u.cursorh,"mousedown",function(e){u.onmousedown(e,!0)}),u.bind(u.cursorh,"mouseup",function(e){if(!u.rail.drag||2!=u.rail.drag.pt)return u.rail.drag=!1,u.hasmoving=!1,u.hideCursor(),p.hasmousecapture&&document.releaseCapture(),u.cancelEvent(e)})),!u.opt.cursordragontouch&&(p.cantouch||u.opt.touchbehavior)||(u.rail.css({cursor:"default"}),u.railh&&u.railh.css({cursor:"default"}),u.jqbind(u.rail,"mouseenter",function(){u.canshowonmouseevent&&u.showCursor(),u.rail.active=!0}),u.jqbind(u.rail,"mouseleave",function(){u.rail.active=!1,u.rail.drag||u.hideCursor()}),u.opt.sensitiverail&&(u.bind(u.rail,"click",function(e){u.doRailClick(e,!1,!1)}),u.bind(u.rail,"dblclick",function(e){u.doRailClick(e,!0,!1)}),u.bind(u.cursor,"click",function(e){u.cancelEvent(e)}),u.bind(u.cursor,"dblclick",function(e){u.cancelEvent(e)})),u.railh&&(u.jqbind(u.railh,"mouseenter",function(){u.canshowonmouseevent&&u.showCursor(),u.rail.active=!0}),u.jqbind(u.railh,"mouseleave",function(){u.rail.active=!1,u.rail.drag||u.hideCursor()}),u.opt.sensitiverail&&(u.bind(u.railh,"click",function(e){u.doRailClick(e,!1,!0)}),u.bind(u.railh,"dblclick",function(e){u.doRailClick(e,!0,!0)}),u.bind(u.cursorh,"click",function(e){u.cancelEvent(e)}),u.bind(u.cursorh,"dblclick",function(e){u.cancelEvent(e)})))),p.cantouch||u.opt.touchbehavior?(u.bind(p.hasmousecapture?u.win:document,"mouseup",u.ontouchend),u.bind(document,"mousemove",u.ontouchmove),u.onclick&&u.bind(document,"click",u.onclick),u.opt.cursordragontouch&&(u.bind(u.cursor,"mousedown",u.onmousedown),u.bind(u.cursor,"mousemove",u.onmousemove),u.cursorh&&u.bind(u.cursorh,"mousedown",u.onmousedown),u.cursorh&&u.bind(u.cursorh,"mousemove",u.onmousemove))):(u.bind(p.hasmousecapture?u.win:document,"mouseup",u.onmouseup),u.bind(document,"mousemove",u.onmousemove),u.onclick&&u.bind(document,"click",u.onclick),!u.ispage&&u.opt.enablescrollonselection&&(u.bind(u.win[0],"mousedown",u.onselectionstart),u.bind(document,"mouseup",u.onselectionend),u.bind(u.cursor,"mouseup",u.onselectionend),u.cursorh&&u.bind(u.cursorh,"mouseup",u.onselectionend),u.bind(document,"mousemove",u.onselectiondrag)),u.zoom&&(u.jqbind(u.zoom,"mouseenter",function(){u.canshowonmouseevent&&u.showCursor(),u.rail.active=!0}),u.jqbind(u.zoom,"mouseleave",function(){u.rail.active=!1,u.rail.drag||u.hideCursor()}))),u.opt.enablemousewheel&&(u.isiframe||u.bind(p.isie&&u.ispage?document:u.docscroll,"mousewheel",u.onmousewheel),u.bind(u.rail,"mousewheel",u.onmousewheel),u.railh&&u.bind(u.railh,"mousewheel",u.onmousewheelhr)),u.ispage||p.cantouch||/HTML|BODY/.test(u.win[0].nodeName)||(u.win.attr("tabindex")||u.win.attr({tabindex:w++}),u.jqbind(u.win,"focus",function(e){f=u.getTarget(e).id||!0,u.hasfocus=!0,u.canshowonmouseevent&&u.noticeCursor()}),u.jqbind(u.win,"blur",function(e){f=!1,u.hasfocus=!1}),u.jqbind(u.win,"mouseenter",function(e){g=u.getTarget(e).id||!0,u.hasmousefocus=!0,u.canshowonmouseevent&&u.noticeCursor()}),u.jqbind(u.win,"mouseleave",function(){g=!1,u.hasmousefocus=!1}))}if(u.onkeypress=function(e){if(u.locked&&0==u.page.maxh)return!0;e=e||window.e;var o=u.getTarget(e);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp))return!0;if(u.hasfocus||u.hasmousefocus&&!f||u.ispage&&!f&&!g){if(o=e.keyCode,u.locked&&27!=o)return u.cancelEvent(e);var t=e.ctrlKey||!1,i=e.shiftKey||!1,r=!1;switch(o){case 38:case 63233:u.doScrollBy(72),r=!0;break;case 40:case 63235:u.doScrollBy(-72),r=!0;break;case 37:case 63232:u.railh&&(t?u.doScrollLeft(0):u.doScrollLeftBy(72),r=!0);break;case 39:case 63234:u.railh&&(t?u.doScrollLeft(u.page.maxw):u.doScrollLeftBy(-72),r=!0);break;case 33:case 63276:u.doScrollBy(u.view.h),r=!0;break;case 34:case 63277:u.doScrollBy(-u.view.h),r=!0;break;case 36:case 63273:u.railh&&t?u.doScrollPos(0,0):u.doScrollTo(0),r=!0;break;case 35:case 63275:u.railh&&t?u.doScrollPos(u.page.maxw,u.page.maxh):u.doScrollTo(u.page.maxh),r=!0;break;case 32:u.opt.spacebarenabled&&(i?u.doScrollBy(u.view.h):u.doScrollBy(-u.view.h),r=!0);break;case 27:u.zoomactive&&(u.doZoom(),r=!0)}if(r)return u.cancelEvent(e)}},u.opt.enablekeyboard&&u.bind(document,p.isopera&&!p.isopera12?"keypress":"keydown",u.onkeypress),u.bind(window,"resize",u.lazyResize),u.bind(window,"orientationchange",u.lazyResize),u.bind(window,"load",u.lazyResize),p.ischrome&&!u.ispage&&!u.haswrapper){var a=u.win.attr("style"),c=parseFloat(u.win.css("width"))+1;u.win.css("width",c),u.synched("chromefix",function(){u.win.attr("style",a)})}u.onAttributeChange=function(e){u.lazyResize(250)},u.ispage||u.haswrapper||(!1!==b?(u.observer=new b(function(e){e.forEach(u.onAttributeChange)}),u.observer.observe(u.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),u.observerremover=new b(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var o in e.removedNodes)if(e.removedNodes[o]==u.win[0])return u.remove()})}),u.observerremover.observe(u.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(u.bind(u.win,p.isie&&!p.isie9?"propertychange":"DOMAttrModified",u.onAttributeChange),p.isie9&&u.win[0].attachEvent("onpropertychange",u.onAttributeChange),u.bind(u.win,"DOMNodeRemoved",function(e){e.target==u.win[0]&&u.remove()}))),!u.ispage&&u.opt.boxzoom&&u.bind(window,"resize",u.resizeZoom),u.istextarea&&u.bind(u.win,"mouseup",u.lazyResize),u.checkrtlmode=!0,u.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){function h(e){u.iframexd=!1;try{var o="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(e){o=!(u.iframexd=!0)}if(u.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;u.forcescreen=!0,u.isiframe&&(u.iframe={doc:m(o),html:u.doc.contents().find("html")[0],body:u.doc.contents().find("body")[0]},u.getContentSize=function(){return{w:Math.max(u.iframe.html.scrollWidth,u.iframe.body.scrollWidth),h:Math.max(u.iframe.html.scrollHeight,u.iframe.body.scrollHeight)}},u.docscroll=m(u.iframe.body)),p.isios||!u.opt.iframeautoresize||u.isiframe||(u.win.scrollTop(0),u.doc.height(""),e=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),u.doc.height(e)),u.lazyResize(30),p.isie7&&u.css(m(u.iframe.html),{"overflow-y":"hidden"}),u.css(m(u.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?u.bind(this.contentWindow,"scroll",u.onscroll):u.bind(o,"scroll",u.onscroll),u.opt.enablemousewheel&&u.bind(o,"mousewheel",u.onmousewheel),u.opt.enablekeyboard&&u.bind(o,p.isopera?"keypress":"keydown",u.onkeypress),(p.cantouch||u.opt.touchbehavior)&&(u.bind(o,"mousedown",u.onmousedown),u.bind(o,"mousemove",function(e){u.onmousemove(e,!0)}),u.opt.grabcursorenabled&&p.cursorgrabvalue&&u.css(m(o.body),{cursor:p.cursorgrabvalue})),u.bind(o,"mouseup",u.onmouseup),u.zoom&&(u.opt.dblclickzoom&&u.bind(o,"dblclick",u.doZoom),u.ongesturezoom&&u.bind(o,"gestureend",u.ongesturezoom))}this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){h.call(u.doc[0],!1)},500),u.bind(this.doc,"load",h)}},this.showCursor=function(e,o){u.cursortimeout&&(clearTimeout(u.cursortimeout),u.cursortimeout=0),u.rail&&(u.autohidedom&&(u.autohidedom.stop().css({opacity:u.opt.cursoropacitymax}),u.cursoractive=!0),u.rail.drag&&1==u.rail.drag.pt||(void 0!==e&&!1!==e&&(u.scroll.y=Math.round(1*e/u.scrollratio.y)),void 0!==o&&(u.scroll.x=Math.round(1*o/u.scrollratio.x))),u.cursor.css({height:u.cursorheight,top:u.scroll.y}),u.cursorh&&(!u.rail.align&&u.rail.visibility?u.cursorh.css({width:u.cursorwidth,left:u.scroll.x+u.rail.width}):u.cursorh.css({width:u.cursorwidth,left:u.scroll.x}),u.cursoractive=!0),u.zoom&&u.zoom.stop().css({opacity:u.opt.cursoropacitymax}))},this.hideCursor=function(e){!u.cursortimeout&&u.rail&&u.autohidedom&&(u.cursortimeout=setTimeout(function(){u.rail.active&&u.showonmouseevent||(u.autohidedom.stop().animate({opacity:u.opt.cursoropacitymin}),u.zoom&&u.zoom.stop().animate({opacity:u.opt.cursoropacitymin}),u.cursoractive=!1),u.cursortimeout=0},e||u.opt.hidecursordelay))},this.noticeCursor=function(e,o,t){u.showCursor(o,t),u.rail.active||u.hideCursor(e)},this.getContentSize=u.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:u.haswrapper?function(){return{w:u.doc.outerWidth()+parseInt(u.win.css("paddingLeft"))+parseInt(u.win.css("paddingRight")),h:u.doc.outerHeight()+parseInt(u.win.css("paddingTop"))+parseInt(u.win.css("paddingBottom"))}}:function(){return{w:u.docscroll[0].scrollWidth,h:u.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!u.win)return!1;if(!u.haswrapper&&!u.ispage){if("none"==u.win.css("display"))return u.visibility&&u.hideRail().hideRailHr(),!1;u.hidden||u.visibility||u.showRail().showRailHr()}var t=u.page.maxh,i=u.page.maxw,r=u.view.w;if(u.view={w:u.ispage?u.win.width():parseInt(u.win[0].clientWidth),h:u.ispage?u.win.height():parseInt(u.win[0].clientHeight)},u.page=o||u.getContentSize(),u.page.maxh=Math.max(0,u.page.h-u.view.h),u.page.maxw=Math.max(0,u.page.w-u.view.w),u.page.maxh==t&&u.page.maxw==i&&u.view.w==r){if(u.ispage)return u;if(t=u.win.offset(),u.lastposition&&((i=u.lastposition).top==t.top&&i.left==t.left))return u;u.lastposition=t}return 0==u.page.maxh?(u.hideRail(),u.scrollvaluemax=0,u.scroll.y=0,u.scrollratio.y=0,u.cursorheight=0,u.setScrollTop(0),u.rail.scrollable=!1):u.rail.scrollable=!0,0==u.page.maxw?(u.hideRailHr(),u.scrollvaluemaxw=0,u.scroll.x=0,u.scrollratio.x=0,u.cursorwidth=0,u.setScrollLeft(0),u.railh.scrollable=!1):u.railh.scrollable=!0,u.locked=0==u.page.maxh&&0==u.page.maxw,u.locked?(u.ispage||u.updateScrollBar(u.view),!1):(u.hidden||u.visibility?u.hidden||u.railh.visibility||u.showRailHr():u.showRail().showRailHr(),u.istextarea&&u.win.css("resize")&&"none"!=u.win.css("resize")&&(u.view.h-=20),u.cursorheight=Math.min(u.view.h,Math.round(u.view.h*(u.view.h/u.page.h))),u.cursorheight=u.opt.cursorfixedheight?u.opt.cursorfixedheight:Math.max(u.opt.cursorminheight,u.cursorheight),u.cursorwidth=Math.min(u.view.w,Math.round(u.view.w*(u.view.w/u.page.w))),u.cursorwidth=u.opt.cursorfixedheight?u.opt.cursorfixedheight:Math.max(u.opt.cursorminheight,u.cursorwidth),u.scrollvaluemax=u.view.h-u.cursorheight-u.cursor.hborder,u.railh&&(u.railh.width=0<u.page.maxh?u.view.w-u.rail.width:u.view.w,u.scrollvaluemaxw=u.railh.width-u.cursorwidth-u.cursorh.wborder),u.checkrtlmode&&u.railh&&(u.checkrtlmode=!1,u.opt.rtlmode&&0==u.scroll.x&&u.setScrollLeft(u.page.maxw)),u.ispage||u.updateScrollBar(u.view),u.scrollratio={x:u.page.maxw/u.scrollvaluemaxw,y:u.page.maxh/u.scrollvaluemax},u.getScrollTop()>u.page.maxh?u.doScrollTop(u.page.maxh):(u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y)),u.scroll.x=Math.round(u.getScrollLeft()*(1/u.scrollratio.x)),u.cursoractive&&u.noticeCursor()),u.scroll.y&&0==u.getScrollTop()&&u.doScrollTo(Math.floor(u.scroll.y*u.scrollratio.y)),u)},this.resize=u.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,u.delayed("resize",u.resize,e),u},this._bind=function(e,o,t,i){u.events.push({e:e,n:o,f:t,b:i,q:!1}),e.addEventListener?e.addEventListener(o,t,i||!1):e.attachEvent?e.attachEvent("on"+o,t):e["on"+o]=t},this.jqbind=function(e,o,t){u.events.push({e:e,n:o,f:t,q:!0}),m(e).bind(o,t)},this.bind=function(e,o,t,i){var r="jquery"in e?e[0]:e;"mousewheel"==o?"onwheel"in u.win?u._bind(r,"wheel",t,i||!1):(e=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",s(r,e,t,i||!1),"DOMMouseScroll"==e&&s(r,"MozMousePixelScroll",t,i||!1)):r.addEventListener?(p.cantouch&&/mouseup|mousedown|mousemove/.test(o)&&u._bind(r,"mousedown"==o?"touchstart":"mouseup"==o?"touchend":"touchmove",function(e){if(e.touches){if(e.touches.length<2){var o=e.touches.length?e.touches[0]:e;o.original=e,t.call(this,o)}}else e.changedTouches&&((o=e.changedTouches[0]).original=e,t.call(this,o))},i||!1),u._bind(r,o,t,i||!1),p.cantouch&&"mouseup"==o&&u._bind(r,"touchcancel",t,i||!1)):u._bind(r,o,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==t.call(r,e)&&!1!==i||u.cancelEvent(e)})},this._unbind=function(e,o,t,i){e.removeEventListener?e.removeEventListener(o,t,i):e.detachEvent?e.detachEvent("on"+o,t):e["on"+o]=!1},this.unbindAll=function(){for(var e=0;e<u.events.length;e++){var o=u.events[e];o.q?o.e.unbind(o.n,o.f):u._unbind(o.e,o.n,o.f,o.b)}},this.cancelEvent=function(e){return!!(e=e.original?e.original:e||(window.event||!1))&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=e.original?e.original:e||(window.event||!1))&&(e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1))},this.showRail=function(){return 0==u.page.maxh||!u.ispage&&"none"==u.win.css("display")||(u.visibility=!0,u.rail.visibility=!0,u.rail.css("display","block")),u},this.showRailHr=function(){return u.railh&&(0==u.page.maxw||!u.ispage&&"none"==u.win.css("display")||(u.railh.visibility=!0,u.railh.css("display","block"))),u},this.hideRail=function(){return u.visibility=!1,u.rail.visibility=!1,u.rail.css("display","none"),u},this.hideRailHr=function(){return u.railh&&(u.railh.visibility=!1,u.railh.css("display","none")),u},this.show=function(){return u.hidden=!1,u.locked=!1,u.showRail().showRailHr()},this.hide=function(){return u.hidden=!0,u.locked=!0,u.hideRail().hideRailHr()},this.toggle=function(){return u.hidden?u.show():u.hide()},this.remove=function(){u.stop(),u.cursortimeout&&clearTimeout(u.cursortimeout),u.doZoomOut(),u.unbindAll(),!1!==u.observer&&u.observer.disconnect(),!1!==u.observerremover&&u.observerremover.disconnect(),u.events=[],u.cursor&&(u.cursor.remove(),u.cursor=null),u.cursorh&&(u.cursorh.remove(),u.cursorh=null),u.rail&&(u.rail.remove(),u.rail=null),u.railh&&(u.railh.remove(),u.railh=null),u.zoom&&(u.zoom.remove(),u.zoom=null);for(var e=0;e<u.saved.css.length;e++){var o=u.saved.css[e];o[0].css(o[1],void 0===o[2]?"":o[2])}return u.saved=!1,u.me.data("__nicescroll",""),u.me=null,u.doc=null,u.docscroll=null,u.win=null,u},this.scrollstart=function(e){return this.onscrollstart=e,u},this.scrollend=function(e){return this.onscrollend=e,u},this.scrollcancel=function(e){return this.onscrollcancel=e,u},this.zoomin=function(e){return this.onzoomin=e,u},this.zoomout=function(e){return this.onzoomout=e,u},this.isScrollable=function(e){if("OPTION"==(e=e.target?e.target:e).nodeName)return!0;for(;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var o=(o=m(e)).css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(o))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var o=m(e),t=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(t)&&e.clientHeight!=e.scrollHeight||0<o.getNiceScroll().length)return o;e=!!e.parentNode&&e.parentNode}return!1},this.onmousewheel=function(e){if(u.locked)return!0;if(u.rail.drag)return u.cancelEvent(e);if(!u.rail.scrollable)return!u.railh||!u.railh.scrollable||u.onmousewheelhr(e);var o=+new Date,t=!1;return u.opt.preservenativescrolling&&u.checkarea+600<o&&(u.nativescrollingarea=u.isScrollable(e),t=!0),u.checkarea=o,!!u.nativescrollingarea||((e=i(e,!1,t))&&(u.checkarea=0),e)},this.onmousewheelhr=function(e){if(u.locked||!u.railh.scrollable)return!0;if(u.rail.drag)return u.cancelEvent(e);var o=+new Date,t=!1;return u.opt.preservenativescrolling&&u.checkarea+600<o&&(u.nativescrollingarea=u.isScrollable(e),t=!0),u.checkarea=o,!!u.nativescrollingarea||(u.locked?u.cancelEvent(e):i(e,!0,t))},this.stop=function(){return u.cancelScroll(),u.scrollmon&&u.scrollmon.stop(),u.cursorfreezed=!1,u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y)),u.noticeCursor(),u},this.getTransitionSpeed=function(e){var o=Math.round(10*u.opt.scrollspeed);return 20<(e=Math.min(o,Math.round(e/20*u.opt.scrollspeed)))?e:0},u.opt.smoothscroll?u.ishwscroll&&p.hastransition&&u.opt.usetransition?(this.prepareTransition=function(e,o){var t=o?20<e?e:0:u.getTransitionSpeed(e),i=t?p.prefixstyle+"transform "+t+"ms ease-out":"";return u.lasttransitionstyle&&u.lasttransitionstyle==i||(u.lasttransitionstyle=i,u.doc.css(p.transitionstyle,i)),t},this.doScrollLeft=function(e,o){var t=u.scrollrunning?u.newscrolly:u.getScrollTop();u.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=u.scrollrunning?u.newscrollx:u.getScrollLeft();u.doScrollPos(t,e,o)},this.doScrollPos=function(r,n,e){var o=u.getScrollTop(),t=u.getScrollLeft();return((u.newscrolly-o)*(n-o)<0||(u.newscrollx-t)*(r-t)<0)&&u.cancelScroll(),0==u.opt.bouncescroll&&(n<0?n=0:n>u.page.maxh&&(n=u.page.maxh),r<0?r=0:r>u.page.maxw&&(r=u.page.maxw)),(!u.scrollrunning||r!=u.newscrollx||n!=u.newscrolly)&&(u.newscrolly=n,u.newscrollx=r,u.newscrollspeed=e||!1,!u.timer&&void(u.timer=setTimeout(function(){var e,o,t=u.getScrollTop(),i=u.getScrollLeft();e=r-i,o=n-t,e=Math.round(Math.sqrt(Math.pow(e,2)+Math.pow(o,2))),e=u.newscrollspeed&&1<u.newscrollspeed?u.newscrollspeed:u.getTransitionSpeed(e),u.newscrollspeed&&u.newscrollspeed<=1&&(e*=u.newscrollspeed),u.prepareTransition(e,!0),u.timerscroll&&u.timerscroll.tm&&clearInterval(u.timerscroll.tm),0<e&&(!u.scrollrunning&&u.onscrollstart&&u.onscrollstart.call(u,{type:"scrollstart",current:{x:i,y:t},request:{x:r,y:n},end:{x:u.newscrollx,y:u.newscrolly},speed:e}),p.transitionend?u.scrollendtrapped||(u.scrollendtrapped=!0,u.bind(u.doc,p.transitionend,u.onScrollEnd,!1)):(u.scrollendtrapped&&clearTimeout(u.scrollendtrapped),u.scrollendtrapped=setTimeout(u.onScrollEnd,e)),u.timerscroll={bz:new BezierClass(t,u.newscrolly,e,0,0,.58,1),bh:new BezierClass(i,u.newscrollx,e,0,0,.58,1)},u.cursorfreezed||(u.timerscroll.tm=setInterval(function(){u.showCursor(u.getScrollTop(),u.getScrollLeft())},60))),u.synched("doScroll-set",function(){u.timer=0,u.scrollendtrapped&&(u.scrollrunning=!0),u.setScrollTop(u.newscrolly),u.setScrollLeft(u.newscrollx),u.scrollendtrapped||u.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!u.scrollendtrapped)return!0;var e=u.getScrollTop(),o=u.getScrollLeft();return u.scrollrunning=!1,p.transitionend||clearTimeout(p.transitionend),u.scrollendtrapped=!1,u._unbind(u.doc,p.transitionend,u.onScrollEnd),u.prepareTransition(0),u.setScrollTop(e),u.railh&&u.setScrollLeft(o),u.timerscroll&&u.timerscroll.tm&&clearInterval(u.timerscroll.tm),u.timerscroll=!1,u.cursorfreezed=!1,u.showCursor(e,o),u},this.onScrollEnd=function(){u.scrollendtrapped&&u._unbind(u.doc,p.transitionend,u.onScrollEnd),u.scrollendtrapped=!1,u.prepareTransition(0),u.timerscroll&&u.timerscroll.tm&&clearInterval(u.timerscroll.tm),u.timerscroll=!1;var e=u.getScrollTop(),o=u.getScrollLeft();if(u.setScrollTop(e),u.railh&&u.setScrollLeft(o),u.noticeCursor(!1,e,o),u.cursorfreezed=!1,e<0?e=0:e>u.page.maxh&&(e=u.page.maxh),o<0?o=0:o>u.page.maxw&&(o=u.page.maxw),e!=u.newscrolly||o!=u.newscrollx)return u.doScrollPos(o,e,u.opt.snapbackspeed);u.onscrollend&&u.scrollrunning&&u.onscrollend.call(u,{type:"scrollend",current:{x:o,y:e},end:{x:u.newscrollx,y:u.newscrolly}}),u.scrollrunning=!1}):(this.doScrollLeft=function(e,o){var t=u.scrollrunning?u.newscrolly:u.getScrollTop();u.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=u.scrollrunning?u.newscrollx:u.getScrollLeft();u.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){if(o=void 0===o||!1===o?u.getScrollTop(!0):o,u.timer&&u.newscrolly==o&&u.newscrollx==e)return!0;u.timer&&h(u.timer),u.timer=0;var i=u.getScrollTop(),r=u.getScrollLeft();((u.newscrolly-i)*(o-i)<0||(u.newscrollx-r)*(e-r)<0)&&u.cancelScroll(),u.newscrolly=o,u.newscrollx=e,u.bouncescroll&&u.rail.visibility||(u.newscrolly<0?u.newscrolly=0:u.newscrolly>u.page.maxh&&(u.newscrolly=u.page.maxh)),u.bouncescroll&&u.railh.visibility||(u.newscrollx<0?u.newscrollx=0:u.newscrollx>u.page.maxw&&(u.newscrollx=u.page.maxw)),u.dst={},u.dst.x=e-r,u.dst.y=o-i,u.dst.px=r,u.dst.py=i;var n=Math.round(Math.sqrt(Math.pow(u.dst.x,2)+Math.pow(u.dst.y,2)));u.dst.ax=u.dst.x/n,u.dst.ay=u.dst.y/n;var s=0,l=n;if(0==u.dst.x?(s=i,l=o,u.dst.ay=1,u.dst.py=0):0==u.dst.y&&(s=r,l=e,u.dst.ax=1,u.dst.px=0),n=u.getTransitionSpeed(n),t&&t<=1&&(n*=t),u.bzscroll=0<n&&(u.bzscroll?u.bzscroll.update(l,n):new BezierClass(s,l,n,0,1,0,1)),!u.timer){(i==u.page.maxh&&o>=u.page.maxh||r==u.page.maxw&&e>=u.page.maxw)&&u.checkContentSize();var a=1;u.cancelAnimationFrame=!1,u.timer=1,u.onscrollstart&&!u.scrollrunning&&u.onscrollstart.call(u,{type:"scrollstart",current:{x:r,y:i},request:{x:e,y:o},end:{x:u.newscrollx,y:u.newscrolly},speed:n}),function e(){if(u.cancelAnimationFrame)return!0;if(u.scrollrunning=!0,a=1-a)return u.timer=d(e)||1;var o=0,t=sy=u.getScrollTop();if(u.dst.ay){var i=(t=u.bzscroll?u.dst.py+u.bzscroll.getNow()*u.dst.ay:u.newscrolly)-sy;(i<0&&t<u.newscrolly||0<i&&t>u.newscrolly)&&(t=u.newscrolly),u.setScrollTop(t),t==u.newscrolly&&(o=1)}else o=1;var r=sx=u.getScrollLeft();u.dst.ax?(((i=(r=u.bzscroll?u.dst.px+u.bzscroll.getNow()*u.dst.ax:u.newscrollx)-sx)<0&&r<u.newscrollx||0<i&&r>u.newscrollx)&&(r=u.newscrollx),u.setScrollLeft(r),r==u.newscrollx&&(o+=1)):o+=1,2==o?(u.timer=0,u.cursorfreezed=!1,u.bzscroll=!1,u.scrollrunning=!1,t<0?t=0:t>u.page.maxh&&(t=u.page.maxh),r<0?r=0:r>u.page.maxw&&(r=u.page.maxw),r!=u.newscrollx||t!=u.newscrolly?u.doScrollPos(r,t):u.onscrollend&&u.onscrollend.call(u,{type:"scrollend",current:{x:sx,y:sy},end:{x:u.newscrollx,y:u.newscrolly}})):u.timer=d(e)||1}(),(i==u.page.maxh&&i<=o||r==u.page.maxw&&r<=e)&&u.checkContentSize(),u.noticeCursor()}},this.cancelScroll=function(){return u.timer&&h(u.timer),u.timer=0,u.bzscroll=!1,u.scrollrunning=!1,u}):(this.doScrollLeft=function(e,o){var t=u.getScrollTop();u.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=u.getScrollLeft();u.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var i=e>u.page.maxw?u.page.maxw:e;i<0&&(i=0);var r=o>u.page.maxh?u.page.maxh:o;r<0&&(r=0),u.synched("scroll",function(){u.setScrollTop(r),u.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t=0;t=o?Math.floor((u.scroll.y-e)*u.scrollratio.y):(u.timer?u.newscrolly:u.getScrollTop(!0))-e;if(u.bouncescroll){var i=Math.round(u.view.h/2);t<-i?t=-i:t>u.page.maxh+i&&(t=u.page.maxh+i)}return u.cursorfreezed=!1,py=u.getScrollTop(!0),t<0&&py<=0?u.noticeCursor():t>u.page.maxh&&py>=u.page.maxh?(u.checkContentSize(),u.noticeCursor()):void u.doScrollTop(t)},this.doScrollLeftBy=function(e,o){var t=0;t=o?Math.floor((u.scroll.x-e)*u.scrollratio.x):(u.timer?u.newscrollx:u.getScrollLeft(!0))-e;if(u.bouncescroll){var i=Math.round(u.view.w/2);t<-i?t=-i:t>u.page.maxw+i&&(t=u.page.maxw+i)}if(u.cursorfreezed=!1,px=u.getScrollLeft(!0),t<0&&px<=0||t>u.page.maxw&&px>=u.page.maxw)return u.noticeCursor();u.doScrollLeft(t)},this.doScrollTo=function(e,o){o&&Math.round(e*u.scrollratio.y),u.cursorfreezed=!1,u.doScrollTop(e)},this.checkContentSize=function(){var e=u.getContentSize();e.h==u.page.h&&e.w==u.page.w||u.resize(!1,e)},u.onscroll=function(e){u.rail.drag||u.cursorfreezed||u.synched("scroll",function(){u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y)),u.railh&&(u.scroll.x=Math.round(u.getScrollLeft()*(1/u.scrollratio.x))),u.noticeCursor()})},u.bind(u.docscroll,"scroll",u.onscroll),this.doZoomIn=function(e){if(!u.zoomactive){u.zoomactive=!0,u.zoomrestore={style:{}};var o,t="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),i=u.win[0].style;for(o in t){var r=t[o];u.zoomrestore.style[r]=void 0!==i[r]?i[r]:""}return u.zoomrestore.style.width=u.win.css("width"),u.zoomrestore.style.height=u.win.css("height"),u.zoomrestore.padding={w:u.win.outerWidth()-u.win.width(),h:u.win.outerHeight()-u.win.height()},p.isios4&&(u.zoomrestore.scrollTop=m(window).scrollTop(),m(window).scrollTop(0)),u.win.css({position:p.isios4?"absolute":"fixed",top:0,left:0,"z-index":v+100,margin:"0px"}),""!=(t=u.win.css("backgroundColor"))&&!/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(t)||u.win.css("backgroundColor","#fff"),u.rail.css({"z-index":v+101}),u.zoom.css({"z-index":v+102}),u.zoom.css("backgroundPosition","0px -18px"),u.resizeZoom(),u.onzoomin&&u.onzoomin.call(u),u.cancelEvent(e)}},this.doZoomOut=function(e){if(u.zoomactive)return u.zoomactive=!1,u.win.css("margin",""),u.win.css(u.zoomrestore.style),p.isios4&&m(window).scrollTop(u.zoomrestore.scrollTop),u.rail.css({"z-index":u.zindex}),u.zoom.css({"z-index":u.zindex}),u.zoomrestore=!1,u.zoom.css("backgroundPosition","0px 0px"),u.onResize(),u.onzoomout&&u.onzoomout.call(u),u.cancelEvent(e)},this.doZoom=function(e){return u.zoomactive?u.doZoomOut(e):u.doZoomIn(e)},this.resizeZoom=function(){if(u.zoomactive){var e=u.getScrollTop();u.win.css({width:m(window).width()-u.zoomrestore.padding.w+"px",height:m(window).height()-u.zoomrestore.padding.h+"px"}),u.onResize(),u.setScrollTop(Math.min(u.page.maxh,e))}},this.init(),m.nicescroll.push(this)}var b=window.MutationObserver||window.WebKitMutationObserver||!1,x={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},S=!1,k=function(e){var d=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,o){d.stop();var t=d.time();d.steptime=0,d.lasttime=t,d.speedx=0,d.speedy=0,d.lastx=e,d.lasty=o,d.lastscrollx=-1,d.lastscrolly=-1},this.update=function(e,o){var t=d.time();d.steptime=t-d.lasttime,d.lasttime=t;t=o-d.lasty;var i=e-d.lastx,r=(r=d.nc.getScrollTop())+t,n=(n=d.nc.getScrollLeft())+i;d.snapx=n<0||n>d.nc.page.maxw,d.snapy=r<0||r>d.nc.page.maxh,d.speedx=i,d.speedy=t,d.lastx=e,d.lasty=o},this.stop=function(){d.nc.unsynched("domomentum2d"),d.timer&&clearTimeout(d.timer),d.timer=0,d.lastscrollx=-1,d.lastscrolly=-1},this.doSnapy=function(e,o){var t=!1;o<0?t=!(o=0):o>d.nc.page.maxh&&(o=d.nc.page.maxh,t=!0),e<0?t=!(e=0):e>d.nc.page.maxw&&(e=d.nc.page.maxw,t=!0),t&&d.nc.doScrollPos(e,o,d.nc.opt.snapbackspeed)},this.doMomentum=function(e){var o=d.time(),t=e?o+e:d.lasttime;e=d.nc.getScrollLeft();var i=d.nc.getScrollTop(),r=d.nc.page.maxh,n=d.nc.page.maxw;if(d.speedx=0<n?Math.min(60,d.speedx):0,d.speedy=0<r?Math.min(60,d.speedy):0,t=t&&o-t<=50,(i<0||r<i||e<0||n<e)&&(t=!1),e=!(!d.speedx||!t)&&d.speedx,d.speedy&&t&&d.speedy||e){var s=Math.max(16,d.steptime);50<s&&(e=s/50,d.speedx*=e,d.speedy*=e,s=50),d.demulxy=0,d.lastscrollx=d.nc.getScrollLeft(),d.chkx=d.lastscrollx,d.lastscrolly=d.nc.getScrollTop(),d.chky=d.lastscrolly;var l=d.lastscrollx,a=d.lastscrolly,c=function(){var e=600<d.time()-o?.04:.02;d.speedx&&(l=Math.floor(d.lastscrollx-d.speedx*(1-d.demulxy)),(d.lastscrollx=l)<0||n<l)&&(e=.1),d.speedy&&(a=Math.floor(d.lastscrolly-d.speedy*(1-d.demulxy)),(d.lastscrolly=a)<0||r<a)&&(e=.1),d.demulxy=Math.min(1,d.demulxy+e),d.nc.synched("domomentum2d",function(){d.speedx&&(d.nc.getScrollLeft()!=d.chkx&&d.stop(),d.chkx=l,d.nc.setScrollLeft(l)),d.speedy&&(d.nc.getScrollTop()!=d.chky&&d.stop(),d.chky=a,d.nc.setScrollTop(a)),d.timer||(d.nc.hideCursor(),d.doSnapy(l,a))}),d.demulxy<1?d.timer=setTimeout(c,s):(d.stop(),d.nc.hideCursor(),d.doSnapy(l,a))};c()}else d.doSnapy(d.nc.getScrollLeft(),d.nc.getScrollTop())}},i=m.fn.scrollTop;m.cssHooks.pageYOffset={get:function(e,o,t){return(o=m.data(e,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollTop():i.call(e)},set:function(e,o){var t=m.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(o)):i.call(e,o),this}},m.fn.scrollTop=function(o){if(void 0!==o)return this.each(function(){var e=m.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(o)):i.call(m(this),o)});var e=this[0]&&m.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():i.call(this)};var n=m.fn.scrollLeft;m.cssHooks.pageXOffset={get:function(e,o,t){return(o=m.data(e,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollLeft():n.call(e)},set:function(e,o){var t=m.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):n.call(e,o),this}},m.fn.scrollLeft=function(o){if(void 0!==o)return this.each(function(){var e=m.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(o)):n.call(m(this),o)});var e=this[0]&&m.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():n.call(this)};function s(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var o=0;o<t.length;o++)e.call(t[o]);return t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(a=0;a<e.length;a++){var o=m.data(e[a],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this}!function(e,o,t){for(var i=0;i<o.length;i++)t(e,o[i])}(s.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}),m.fn.getNiceScroll=function(e){return void 0===e?new s(this):m.data(this[e],"__nicescroll")||!1},m.extend(m.expr[":"],{nicescroll:function(e){return!!m.data(e,"__nicescroll")}}),m.fn.niceScroll=function(e,o){void 0!==o||"object"!=typeof e||"jquery"in e||(o=e,e=!1);var t=new s;void 0===o&&(o={}),e&&(o.doc=m(e),o.win=m(this));var i=!("doc"in o);return i||"win"in o||(o.win=m(this)),this.each(function(){var e=m(this).data("__nicescroll")||!1;e||(o.doc=i?m(this):o.doc,e=new r(o,m(this)),m(this).data("__nicescroll",e)),t.push(e)}),1==t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return m}},m.nicescroll||(m.nicescroll=new s,m.nicescroll.options=x)}(jQuery),function(e,o){"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?module.exports=o():e.LazyLoad=o()}(this,function(){var o,r,n,t,i=!1;function s(e,o,t){var i;r?e.addEventListener(o,t):n&&(e.attachEvent("on"+o,(i=e,function(){t.call(i,window.event)})),e=null)}function l(e,o,t){r?e.removeEventListener(o,t):n&&e.detachEvent("on"+o,t)}function a(e,o,t){var i,r,n;function s(){return window.innerWidth||i.documentElement.clientWidth||document.body.clientWidth}function l(e){return e.getBoundingClientRect().top+r-i.documentElement.clientTop}function a(e){return e.getBoundingClientRect().left+n-i.documentElement.clientLeft}return i=e.ownerDocument,r=window.pageYOffset||i.body.scrollTop,n=window.pageXOffset||i.body.scrollLeft,!((o===window?(window.innerHeight||i.documentElement.clientHeight||document.body.clientHeight)+r:l(o)+o.offsetHeight)<=l(e)-t||(o===window?r:l(o))>=l(e)+t+e.offsetHeight||(o===window?s()+window.pageXOffset:a(o)+s())<=a(e)-t||(o===window?n:a(o))>=a(e)+t+e.offsetWidth)}function c(){return(new Date).getTime()}function d(e,o){t?e.classList.add(o):e.className+=(e.className?" ":"")+o}function h(e,o){t?e.classList.remove(o):e.className=e.className.replace(new RegExp("(^|\\s+)"+o+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function u(e,o,t,i){var r=o.getAttribute("data-"+i),n=o.getAttribute("data-"+t),s=e.tagName;if("IMG"===s)return r&&e.setAttribute("src",r),void(n&&e.setAttribute("srcset",n));"IFRAME"!==s?e.style.backgroundImage="url("+r+")":r&&e.setAttribute("src",r)}function p(e,o){return function(){return e.apply(o,arguments)}}function e(e){i||(o={elements_selector:".lazy-load",container:window,threshold:300,throttle:50,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,show_while_loading:!0,callback_load:null,callback_set:null,callback_processed:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},r=!!window.addEventListener,n=!!window.attachEvent,t=!!document.body.classList,i=!0),this._settings=function(e,o){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);return i}(o,e),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=p(this.handleScroll,this),s(window,"resize",this._handleScrollFn),this.update()}return e.prototype._showOnLoad=function(o){var t,i=this._settings;o.getAttribute("src")||o.setAttribute("src",i.placeholder),s(t=document.createElement("img"),"load",function e(){null!==i&&(i.callback_load&&i.callback_load(o),u(o,o,i.data_srcset,i.data_src),i.callback_set&&i.callback_set(o),h(o,i.class_loading),d(o,i.class_loaded),l(t,"load",e))}),d(o,i.class_loading),u(t,o,i.data_srcset,i.data_src)},e.prototype._showOnAppear=function(o){var t=this._settings;"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(s(o,"load",function e(){null!==t&&(t.callback_load&&t.callback_load(o),h(o,t.class_loading),d(o,t.class_loaded),l(o,"load",e))}),d(o,t.class_loading)),u(o,o,t.data_srcset,t.data_src),t.callback_set&&t.callback_set(o)},e.prototype._loopThroughElements=function(){var e,o,t=this._settings,i=this._elements,r=i?i.length:0,n=[];for(e=0;e<r;e++)o=i[e],t.skip_invisible&&null===o.offsetParent||a(o,t.container,t.threshold)&&(t.show_while_loading?this._showOnAppear(o):this._showOnLoad(o),n.push(e),o.wasProcessed=!0);for(;0<n.length;)i.splice(n.pop(),1),t.callback_processed&&t.callback_processed(i.length);0===r&&this._stopScrollHandler()},e.prototype._purgeElements=function(){var e,o=this._elements,t=o.length,i=[];for(e=0;e<t;e++)o[e].wasProcessed&&i.push(e);for(;0<i.length;)o.splice(i.pop(),1)},e.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,s(this._settings.container,"scroll",this._handleScrollFn))},e.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,l(this._settings.container,"scroll",this._handleScrollFn))},e.prototype.handleScroll=function(){var e,o,t;this._settings&&(o=c(),0!==(t=this._settings.throttle)?(e=t-(o-this._previousLoopTime))<=0||t<e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=o,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(p(function(){this._previousLoopTime=c(),this._loopTimeout=null,this._loopThroughElements()},this),e)):this._loopThroughElements())},e.prototype.update=function(){this._elements=function(o){try{return Array.prototype.slice.call(o)}catch(e){var t,i=[],r=o.length;for(t=0;t<r;t++)i.push(o[t]);return i}}(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},e.prototype.destroy=function(){l(window,"resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},e}),function(S,k){"use strict";function r(n,s){function l(){c.width=n.offsetWidth,c.height=n.offsetHeight,d.fillStyle=s.dotColor,d.strokeStyle=s.lineColor,d.lineWidth=s.lineWidth}function i(){if(m){t=S.innerWidth,h=S.innerHeight,d.clearRect(0,0,c.width,c.height);for(var e=0;e<f.length;e++)f[e].updatePosition();for(e=0;e<f.length;e++)f[e].draw();o||requestAnimationFrame(i)}}function a(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*c.width),y:Math.ceil(Math.random()*c.height)},this.speed={},s.directionX){case"left":this.speed.x=+(-s.maxSpeedX+Math.random()*s.maxSpeedX-s.minSpeedX).toFixed(2);break;case"right":this.speed.x=+(Math.random()*s.maxSpeedX+s.minSpeedX).toFixed(2);break;default:this.speed.x=+(-s.maxSpeedX/2+Math.random()*s.maxSpeedX).toFixed(2),this.speed.x+=0<this.speed.x?s.minSpeedX:-s.minSpeedX}switch(s.directionY){case"up":this.speed.y=+(-s.maxSpeedY+Math.random()*s.maxSpeedY-s.minSpeedY).toFixed(2);break;case"down":this.speed.y=+(Math.random()*s.maxSpeedY+s.minSpeedY).toFixed(2);break;default:this.speed.y=+(-s.maxSpeedY/2+Math.random()*s.maxSpeedY).toFixed(2),this.speed.x+=0<this.speed.y?s.minSpeedY:-s.minSpeedY}}function r(e){void 0!==s[e]&&s[e].call(n)}var c,d,t,h,u,p,m=!!k.createElement("canvas").getContext,f=[],g=0,w=0,v=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),y=!!S.DeviceOrientationEvent,b=0,x=0,o=!1;return s=function(e){e=e||{};for(var o=1;o<arguments.length;o++){var t=arguments[o];if(t)for(var i in t)t.hasOwnProperty(i)&&("object"==typeof t[i]?deepExtend(e[i],t[i]):e[i]=t[i])}return e}({},S[T].defaults,s),a.prototype.draw=function(){d.beginPath(),d.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,s.particleRadius/2,0,2*Math.PI,!0),d.closePath(),d.fill(),d.beginPath();for(var e=f.length-1;e>this.stackPos;e--){var o=f[e],t=this.position.x-o.position.x,i=this.position.y-o.position.y;Math.sqrt(t*t+i*i).toFixed(2)<s.proximity&&(d.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),s.curvedLines?d.quadraticCurveTo(Math.max(o.position.x,o.position.x),Math.min(o.position.y,o.position.y),o.position.x+o.parallaxOffsetX,o.position.y+o.parallaxOffsetY):d.lineTo(o.position.x+o.parallaxOffsetX,o.position.y+o.parallaxOffsetY))}d.stroke(),d.closePath()},a.prototype.updatePosition=function(){if(s.parallax){if(y&&!v)u=(b- -30)*((t-0)/60)+0,p=(x- -30)*((h-0)/60)+0;else u=g,p=w;this.parallaxTargX=(u-t/2)/(s.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(p-h/2)/(s.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}var e=n.offsetWidth,o=n.offsetHeight;switch(s.directionX){case"left":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=e-this.parallaxOffsetX);break;case"right":this.position.x+this.speed.x+this.parallaxOffsetX>e&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>e||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(s.directionY){case"up":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=o-this.parallaxOffsetY);break;case"down":this.position.y+this.speed.y+this.parallaxOffsetY>o&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>o||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},a.prototype.setStackPos=function(e){this.stackPos=e},function(){if(m){(c=k.createElement("canvas")).className="pg-canvas",c.style.display="block",n.insertBefore(c,n.firstChild),d=c.getContext("2d"),l();for(var e=Math.round(c.width*c.height/s.density),o=0;o<e;o++){var t=new a;t.setStackPos(o),f.push(t)}S.addEventListener("resize",function(){!function(){l();for(var e=n.offsetWidth,o=n.offsetHeight,t=f.length-1;0<=t;t--)(f[t].position.x>e||f[t].position.y>o)&&f.splice(t,1);var i=Math.round(c.width*c.height/s.density);if(i>f.length)for(;i>f.length;){var r=new a;f.push(r)}else i<f.length&&f.splice(i);for(t=f.length-1;0<=t;t--)f[t].setStackPos(t)}()},!1),k.addEventListener("mousemove",function(e){g=e.pageX,w=e.pageY},!1),y&&!v&&S.addEventListener("deviceorientation",function(){x=Math.min(Math.max(-event.beta,-30),30),b=Math.min(Math.max(-event.gamma,-30),30)},!0),i(),r("onInit")}}(),{option:function(e,o){return o?void(s[e]=o):s[e]},destroy:function(){console.log("destroy"),c.parentNode.removeChild(c),r("onDestroy"),z&&z(n).removeData("plugin_"+T)},start:function(){o=!1,i()},pause:function(){o=!0}}}var T="particleground",z=S.jQuery;S[T]=function(e,o){return new r(e,o)},S[T].defaults={minSpeedX:.1,maxSpeedX:.7,minSpeedY:.1,maxSpeedY:.7,directionX:"center",directionY:"center",density:1e4,dotColor:"#666666",lineColor:"#666666",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}},z&&(z.fn[T]=function(e){if("string"!=typeof e)return"object"!=typeof e&&e?void 0:this.each(function(){z.data(this,"plugin_"+T)||z.data(this,"plugin_"+T,new r(this,e))});var o,t=e,i=Array.prototype.slice.call(arguments,1);return this.each(function(){z.data(this,"plugin_"+T)&&"function"==typeof z.data(this,"plugin_"+T)[t]&&(o=z.data(this,"plugin_"+T)[t].apply(this,i))}),void 0!==o?o:this})}(window,document),function(){for(var r=0,e=["ms","moz","webkit","o"],o=0;o<e.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[e[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[o]+"CancelAnimationFrame"]||window[e[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var o=(new Date).getTime(),t=Math.max(0,16-(o-r)),i=window.setTimeout(function(){e(o+t)},t);return r=o+t,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),$(document).ready(function(){"ontouchstart"in document.documentElement&&$("html").removeClass("no-touch");new LazyLoad,$(".lazy-bg");var o=[],e=0,t=$(window).height();function r(){for(e=$(window).scrollTop(),i=0;i<o.length;i++)o[i]<=e+(t-200)&&$(".lazy-bg").eq(i).addClass("loaded")}$(".lazy-bg").each(function(){var e=$(this).offset().top;o.push(e)}),r(),$(window).on("scroll",function(){r()}),$(".cookie-message").cookieBar({closeButton:".js-close-button"}),fullHeightbanner(),$(window).scroll(function(){300<$(window).scrollTop()?$(".js-scroll-top").addClass("show-it"):$(".js-scroll-top").removeClass("show-it")}),$(".js-form-control").focusout(function(){""===$(this).val()?$(this).removeClass("has-value"):$(this).addClass("has-value")}),$(document).on("click",".js-scroll-top",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"500","swing")}),$(window).scroll(function e(){200<$(window).scrollTop()&&($(window).off("scroll",e),$(".skillbar").each(function(){$(this).find(".skillbar-bar").animate({width:$(this).attr("data-percent")},6e3)}))}),$(window).scroll(function e(){200<$(window).scrollTop()&&($(window).off("scroll",e),$(".js-number-count").each(function(){var e=$(this);jQuery({Counter:0}).animate({Counter:e.text()},{duration:5e3,easing:"swing",step:function(){e.text(Math.ceil(this.Counter))}})}))}),$("#particles-js").particleground({dotColor:"rgba(255, 255, 255, 0.40)",lineColor:"rgba(255, 255, 255, 0.21)",parallaxMultiplier:5,particleRadius:5,proximity:130,density:12e3});var n=["bg-image-1","bg-image-2"];$(".main-banner").addClass(n[Math.floor(Math.random()*n.length)]),navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)&&$("html").addClass("detected-ios"),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=$(this.hash);(o=o.length?o:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:o.offset().top},1e3,function(){var e=$(o);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}}),window.matchMedia("(max-width: 47.938em)").matches&&($(document).on("click touchstart",".js-overlay, .js-close, .navbar-link",function(){$(".site-primary-navigation").removeClass("is-show"),$(".navbar-responsive").removeClass("active"),$(".js-overlay").removeClass("is-show"),$("html").removeClass("responsive-menu-is-show")}),$(".navbar-toggle").click(function(){$(".site-primary-navigation").hasClass("is-show")?($(".site-primary-navigation").removeClass("is-show"),$(".navbar-responsive").removeClass("active"),$(".js-overlay").removeClass("is-show"),$("html").removeClass("responsive-menu-is-show")):($(".site-primary-navigation").addClass("is-show"),$(".navbar-responsive").addClass("active"),$(".js-overlay").addClass("is-show"),$("html").addClass("responsive-menu-is-show"))}),0<$(".dropdown").length&&$(".dropdown").append("<div class='dropdown-for-mobile js-dropdown'>Show</div>"),$(document).on("click",".dropdown-for-mobile",function(){$(".dropdown").toggleClass("is-show")}))});